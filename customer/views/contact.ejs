<%- include('header.ejs', { title: 'Contact' }) %>

  <main class="container my-5">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <h1 class="display-4 mb-4 text-center">Contact Us</h1>
        <p class="lead text-center">Have questions or feedback? We'd love to hear from you!</p>

        <!-- Contact Form -->
        <div class="card shadow-sm">
          <div class="card-body p-5">
            <form id="contactForm">
              <div class="mb-4">
                <label for="name" class="form-label">Your Name</label>
                <input type="text" class="form-control" id="name" name="name" required>
              </div>

              <div class="mb-4">
                <label for="email" class="form-label">Email Address</label>
                <input type="email" class="form-control" id="email" name="email" required>
              </div>

              <div class="mb-4">
                <label for="subject" class="form-label">Subject</label>
                <select class="form-select" id="subject" name="subject" required>
                  <option value="" selected disabled>Select a subject</option>
                  <option value="General Inquiry">General Inquiry</option>
                  <option value="News Tip">News Tip</option>
                  <option value="Advertising">Advertising</option>
                  <option value="Technical Support">Technical Support</option>
                  <option value="Other">Other</option>
                </select>
              </div>

              <div class="mb-4">
                <label for="message" class="form-label">Your Message</label>
                <textarea class="form-control" id="message" name="message" rows="5" required></textarea>
              </div>

              <div class="d-grid">
                <button type="submit" class="btn btn-primary btn-lg">Send Message</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Other Ways to Reach Us -->
    <div class="mt-5">
      <h2 class="h4 mb-3 text-center">Other Ways to Reach Us</h2>
      <div class="row justify-content-center">
        <div class="col-md-4 mb-3">
          <div class="card h-100 text-center">
            <div class="card-body">
              <i class="bi bi-telephone fs-1 text-primary mb-3"></i>
              <h3 class="h5">Call Us</h3>
              <p class="mb-0">(123) 456-7890</p>
            </div>
          </div>
        </div>

        <div class="col-md-4 mb-3">
          <div class="card h-100 text-center">
            <div class="card-body">
              <i class="bi bi-envelope fs-1 text-primary mb-3"></i>
              <h3 class="h5">Email Us</h3>
              <p class="mb-0">info@update24x7.com</p>
            </div>
          </div>
        </div>

        <div class="col-md-4 mb-3">
          <div class="card h-100 text-center">
            <div class="card-body">
              <i class="bi bi-geo-alt fs-1 text-primary mb-3"></i>
              <h3 class="h5">Visit Us</h3>
              <p class="mb-0">123 News Street, Media City</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Dialog Modal (Hidden Initially) -->
  <div id="dialog" class="dialog">
    <div class="dialog-content">
      <div class="dialog-header">
        <h2>Submitted Details</h2>
      </div>
      <div class="dialog-body">
        <p><strong>Name:</strong> <span id="dialogName"></span></p>
        <p><strong>Email:</strong> <span id="dialogEmail"></span></p>
        <p><strong>Subject:</strong> <span id="dialogSubject"></span></p>
        <p><strong>Message:</strong></p>
        <p id="dialogMessage"></p>
      </div>
      <div class="dialog-footer">
        <button class="btn btn-primary" onclick="closeDialog()">Close</button>
      </div>
    </div>
  </div>

  <%- include('footer.ejs') %>

    <!-- JavaScript to Handle Form Submission and Show Dialog -->
    <script>
      document.getElementById('contactForm').addEventListener('submit', function (event) {
        event.preventDefault(); // Prevent page reload on form submission

        // Get form input values
        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;
        const subject = document.getElementById('subject').value;
        const message = document.getElementById('message').value;

        // Populate dialog content with form data
        document.getElementById('dialogName').innerText = name;
        document.getElementById('dialogEmail').innerText = email;
        document.getElementById('dialogSubject').innerText = subject;
        document.getElementById('dialogMessage').innerText = message;

        // Show dialog modal
        document.getElementById('dialog').style.display = 'block';
      });

      function closeDialog() {
        document.getElementById('dialog').style.display = 'none';

        document.getElementById("name").value = "";
        document.getElementById("email").value = "";
        document.getElementById("subject").value = "";
        document.getElementById("message").value = "";
      }
    </script>

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">

    <!-- CSS for Dialog Modal -->
    <style>
      .dialog {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
      }

      .dialog-content {
        background-color: #fff;
        margin: 10% auto;
        border-radius: 5px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        width: 400px;
        max-width: 80%;
        animation: animateDialog 0.3s ease-in-out;
      }

      @keyframes animateDialog {
        from {
          transform: translateY(-50px);
          opacity: 0;
        }

        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      .dialog-header {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 10px;
        background-color: #f5f5f5;
        border-bottom: 1px solid #ddd;
        border-top-left-radius: 5px;
        border-top-right-radius: 5px;
      }

      .dialog-header h2 {
        margin: 0;
        font-size: 18px;
      }

      .close-btn {
        font-size: 22px;
        font-weight: bold;
        cursor: pointer;
        color: #999;
      }

      .close-btn:hover {
        color: #333;
      }

      .dialog-body {
        padding: 20px;
      }

      .dialog-footer {
        padding: 15px;
        text-align: center;
        background-color: #f5f5f5;
        border-top: 1px solid #ddd;
        border-bottom-left-radius: 5px;
        border-bottom-right-radius: 5px;
      }
    </style>